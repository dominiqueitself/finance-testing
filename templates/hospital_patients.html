{% extends "base.html" %}

{% block title %}Patients Information{% endblock %}
{% block header_title %}Patients Information{% endblock %}

{% block additional_css %}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/hospital_patients.css') }}">
{% endblock %}

{% block content %}
<div class="patients-content">
    <div class="patients-title">
        <span class="back-patient-btn">
            <!-- <img src="{{ url_for('static', filename='images/left_icon.png') }}">-->
        </span>
        Patient List / <span class="hospital-patients"> Hospital Patients </span>
    </div>
    
    <!-- Patient Search Bar -->
    <div class="patient-search">
        <span class="patient-search-icon-left">
            <img src="{{ url_for('static', filename='images/search_icon.png') }}" alt="Search Icon">
        </span>
        <input type="text" placeholder="Search Patients..." class="patient-search-input">
        <span class="patient-search-icon-right">
            <img src="{{ url_for('static', filename='images/updown_icon.png') }}" alt="Right Icon">
        </span>
        <!-- Filter Dropdown with Icon -->
        <div class="patient-filter-wrapper">
            <select class="patient-filter-dropdown">
                <option value="" disabled selected>Filter</option>
                <option value="all">All Patients</option>
                <option value="active">Active</option>
                <option value="discharged">Discharged</option>
                <option value="resigned">Resigned</option>
            </select>
            <span class="patient-filter-icon">
                <img src="{{ url_for('static', filename='images/filter_icon.png') }}" alt="Filter Icon">
            </span>
        </div>
    </div>

    <!-- Hospital Patients Table -->
    <table class="hospital-patients-table">
        <thead>
            <tr>
                <th>Patient ID</th>
                <th>Full Name</th>
                <th>Patient Type</th>
                <th>Contact Number</th>
                <th>Family Contact</th>
                <th>Action</th> <!-- Action column -->
            </tr>
        </thead>
        <tbody>
            {% for patient in patients %}
            <tr>
                <td>{{ patient.patient_id }}</td>
                <td>{{ patient.name }}</td>
                <td>{{ patient.patient_type }}</td>
                <td>{{ patient.contact_number }}</td>
                <td>{{ patient.family_contact }}</td> <!-- Assuming Family Contact is available -->
                <td><a href="{{ url_for('hospital_invoices') }}?patient_id={{ patient.patient_id }}" class="btn-generate-invoice">Generate Invoice</a></td> <!-- Action column with the link -->
            </tr>
            <tr>
                <td>{{ patient.patient_id }}</td>
                <td>{{ patient.name }}</td>
                <td>{{ patient.patient_type }}</td>
                <td>{{ patient.contact_number }}</td>
                <td>{{ patient.family_contact }}</td> <!-- Assuming Family Contact is available -->
                <td><a href="{{ url_for('hospital_invoices') }}?patient_id={{ patient.patient_id }}" class="btn-generate-invoice">Generate Invoice</a></td> <!-- Action column with the link -->
            </tr>

            {% endfor %}
            <!-- Additional patient rows can go here -->
        </tbody>
    </table>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/hospital_patients.js') }}"></script>
{% endblock %}

{% extends "base.html" %} {% block title %}Invoice Management{% endblock %} {%
block header_title %}Invoice Management{% endblock %} {% block additional_css %}
<link
  rel="stylesheet"
  type="text/css"
  href="{{ url_for('static', filename='css/invoice_management.css') }}"
/>
{% endblock %} {% block content %}
<div class="invoice-management-content">
  <h2>Invoice Management</h2>

    <div class="invoice-search-bar">
      <img
        src="{{ url_for('static', filename='images/search_icon.png') }}"alt="Left Icon"class="invoice-search-icon"/>
      <input type="text" id="invoiceSearch" placeholder=" Search..." />
      <img
        src="{{ url_for('static', filename='images/updown_icon.png') }}"
        alt="Right Icon"
        class="invoice-updown-icon"/>
    </div>
    <!-- Clickable Filter Dropdown beside Search Bar -->
    <div class="invoice-dropdown">
      <div class="invoice-dropdown-wrapper">
        <input type="text" id="invoiceFilter"placeholder=" Filter"readonly onclick="toggleDropdown()"/>
        <img src="{{ url_for('static', filename='images/filter_icon.png') }}"alt="Filter Icon"class="invoice-filter-icon"/>
      </div>
      <div class="invoice-dropdown-content" id="dropdownContent">
        <span>Filter by:</span>
        <div class="invoice-dropdown-columns">
          <div class="invoice-left">
            <p>Insurance Provider</p>
            <p>Status</p>
            <p>Date</p>
          </div>
          <div class="invoice-right">
            <p>Philhealth</p>
            <p>Pru Life UK</p>
            <p>Manulife</p>
          </div>
        </div>
      </div>
    </div>

    <table class="invoice-table">
      <thead>
        <tr>
          <th>Invoice ID</th>
          <th>Patient Name</th>
          <th>Date Issued</th>
          <th>Status</th>
          <th>Total Amount</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <!-- Example Invoice Rows -->
        <tr>
          <td>INV12345</td>
          <td>Renz Paul Fababeir</td>
          <td>2024-09-01</td>
          <td>Unpaid</td>
          <td>â‚±11,500.00</td>
          <td>
            <a
              href="{{ url_for('invoice_view', invoice_id='INV12345') }}"
              class="btn-view"
              >View</a
            >
            <a
              href="{{ url_for('payment', invoice_id='INV12345') }}"
              class="btn-payment"
              >Make Payment</a
            >
            <a href="#" class="btn-insurance">Apply Insurance</a>
            <a
              href="#"
              class="btn-void"
              onclick="return confirm('Are you sure you want to void this invoice?');"
              >Void</a
            >
          </td>
        </tr>
      </tbody>
    </table>

<!-- Generate Report Button -->
<div class="generate-report-container">
  <button class="btn-generate-report" onclick="togglePopup()">Generate Report</button>
  
  <!-- Pop-up Box -->
  <div class="invoice-popup" id="popupBox">
    <h3 class="invoice-popup-title">Print as:</h3>

    <!-- Dropdown for Format -->
    <div class="invoice-popup-dropdown-container">
      <label for="format" class="invoice-popup-label">Format:</label>
      <select id="format" class="invoice-popup-dropdown">
        <option value="pdf">PDF</option>
        <option value="excel">Excel File</option>
        <option value="jpg">Jpg</option>
      </select>
    </div>

    <!-- Dropdown for Criteria -->
    <div class="invoice-popup-dropdown-container">
      <label for="criteria" class="invoice-popup-label">Criteria:</label>
      <select id="criteria" class="invoice-popup-dropdown">
        <option value="date">Date</option>
        <option value="status">Status</option>
        <option value="amount">Total Amount</option>
      </select>
    </div>

    <!-- Generate Button -->
    <div class="invoice-popup-generate-container">
      <a href="#" class="invoice-popup-generate">Generate</a>
    </div>
  </div>
</div>



  {% endblock %} {% block scripts %}
  <script src="{{ url_for('static', filename='js/invoice_management.js') }}"></script>
  <script src="{{ url_for('static', filename='js/invoice_dropdown.js') }}"></script>
  {% endblock %}
</div>

{% extends "base.html" %}

{% block title %}Room Management{% endblock %}
{% block header_title %}Room Management{% endblock %}

{% block additional_css %}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/room_avail.css') }}">
{% endblock %}

{% block compact_sidebar %}
<div class="compact-sidebar-item">
    <a href="{{ url_for('dashboard') }}">
        <img src="{{ url_for('static', filename='images/dashboard_icon.png') }}" alt="Dashboard Icon">
        <span>Dashboard</span>
    </a>
</div>
{% endblock %}

{% block content %}
<div class="room-avail-content">
    <div class="room-cards-container">
        <div class="room-card">
            <div class="room-card-number">100</div>
            <div class="room-card-text">
                <h3>Total Available Rooms</h3>
            </div>
        </div>
        <div class="room-card">
            <div class="room-card-number">5</div>
            <div class="room-card-text">
                <h3>Room Under Maintenance</h3>
            </div>
        </div>
        <div class="room-card">
            <div class="room-card-number">95</div>
            <div class="room-card-text">
                <h3>Occupied Rooms</h3>
            </div>
        </div>
    </div>

<!-- Search Bar -->
<div class="room-search-container">
    <button class="room-search-icon-left">
        <img src="{{ url_for('static', filename='images/search_icon.png') }}" alt="Search Icon" class="room-search-left-icon">
    </button>
    <input type="text" class="room-search-input" placeholder="Search Rooms...">
    <button class="room-search-icon-right" onclick="toggleDropdown()">
        <img src="{{ url_for('static', filename='images/filter_icon.png') }}" alt="Filter Icon" class="room-filter-icon">
    </button>
    
    <!-- Dropdown Menu -->
    <div class="room-search-dropdown" id="roomSearchDropdown">
        <div class="room-search-dropdown-title">Filter by:</div>
        <div class="room-search-columns">
            <div class="room-search-left-column">
                <p>Floor</p>
                <p>Room Type</p>
                <p>Status</p>
            </div>
            <div class="room-search-divider"></div> <!-- Divider -->
            <div class="room-search-right-column">
                <p>001</p>
                <p>002</p>
            </div>
        </div>
    </div>
</div>





   <!-- Room-filter-dropdown -->



    <!-- Table -->
    <div class="room-table-container">
        <table class="room-table">
            <thead>
                <tr>
                    <th>Bed No.</th>
                    <th>Room No.</th>
                    <th>Floor No.</th>
                    <th>Room Type</th>
                    <th>Rate (Per Day)</th>
                    <th>Status</th>
                    <th class="actions-column">Actions</th> <!-- Column for action buttons -->
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>001</td>
                    <td>1</td>
                    <td>Standard</td>
                    <td>PHP 300.00</td>
                    <td>Available</td>
                    <td class="actions-cell">
                        <button class="action-button room-view-button">View</button>
                        <button class="action-button room-edit-button">Edit</button>
                        <button class="action-button room-delete-button">Empty</button>
                    </td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>002</td>
                    <td>1</td>
                    <td>Standard</td>
                    <td>PHP 300.00</td>
                    <td>Occupied</td>
                    <td class="actions-cell">
                        <button class="action-button room-view-button">View</button>
                        <button class="action-button room-edit-button">Edit</button>
                        <button class="action-button room-delete-button">Empty</button>
                    </td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>003</td>
                    <td>1</td>
                    <td>Standard</td>
                    <td>PHP 300.00</td>
                    <td>Maintenance</td>
                    <td class="actions-cell">
                        <button class="action-button room-view-button">View</button>
                        <button class="action-button room-edit-button">Edit</button>
                        <button class="action-button room-delete-button">Empty</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<!-- Room Availability Modal Structure -->
<div class="room-availability-modal" id="roomAvailabilityModal">
    <div class="room-availability-modal-content">
        <span class="room-availability-close">&times;</span>
        <h2>Modify Room</h2>
        <hr class="modal-divider"> <!-- Line added here -->

        <!-- New Column Layout -->
        <div class="room-columns">
            <div class="room-left-column">
                <div class="room-details-container">
                    <div class="door-icon-column">
                        <img src="{{ url_for('static', filename='images/door_icon.png') }}" alt="Door Icon" class="door-icon">
                    </div>
                    <div class="room-info-column">
                        <div class="bed-number">001</div>
                        <div class="room-type">Standard</div>
                        <button class="empty-room-button">Empty</button>
                    </div>
                </div>

                <!-- New Fields -->
                <div class="room-additional-info">
                    <div class="status-field">
                        <label for="status">Status:</label>
                        <input type="text" id="status" name="status" placeholder="Enter status">
                    </div>
                    <div class="occupied-beds-field">
                        <label for="occupied-beds">Occupied Beds:</label>
                        <select id="occupied-beds" name="occupied-beds">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="room-middle-column">
                <!-- Small Table for Beds and Patients -->
                <div class="beds-patients-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Beds</th>
                                <th>Patients</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-patient="Mendoza" data-details="Details for Mendoza">
                                <td>001</td>
                                <td>Mendoza</td>
                            </tr>
                            <tr data-patient="Servas" data-details="Details for Servas">
                                <td>002</td>
                                <td>Servas</td>
                            </tr>
                            <tr data-patient="Torres" data-details="Details for Torres">
                                <td>003</td>
                                <td>Torres</td>
                            </tr>
                            <tr data-patient="Fababeir" data-details="Details for Fababeir">
                                <td>003</td>
                                <td>Fababeir</td>
                            </tr>
                            <tr data-patient="Chua" data-details="Details for Chua">
                                <td>003</td>
                                <td>Chua</td>
                            </tr>
                            <!-- More rows as needed -->
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="room-right-column">
                <div id="patient-details">
                    <p id="patient-info">Patient details will appear here.</p>
                    <input type="text" id="additional-info" placeholder="Additional information">
                    <input type="text" id="extra-info1" placeholder="Extra Info 1">
                    <input type="text" id="extra-info2" placeholder="Extra Info 2">
                </div>
            </div>
            <div class="room-middle-divider"></div> <!-- Right Divider -->
        </div>
    </div>
</div>


{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/room_avail.js') }}"></script>
{% endblock %}
